---
source: tests/proc-macro/tests/perpetuals.rs
expression: "perpetuals::PROTOBUF_SCHEMA"
---
syntax = "proto3";

package perpetuals;

message PublicKey {
  bytes value = 1;
}
    
message PriceImpactBuffer {
  repeated int64 open_interest = 1;
  int64 last_updated = 2;
  uint64 fee_factor = 3;
  float exponent = 4;
  uint64 delta_imbalance_threshold_decimal = 5;
  uint64 max_fee_bps = 6;
}
    
message Assets {
  uint64 fees_reserves = 1;
  uint64 owned = 2;
  uint64 locked = 3;
  uint64 guaranteed_usd = 4;
  uint64 global_short_sizes = 5;
  uint64 global_short_average_prices = 6;
}
    
message PricingParams {
  uint64 trade_impact_fee_scalar = 1;
  uint64 buffer = 2;
  uint64 swap_spread = 3;
  uint64 max_leverage = 4;
  uint64 max_global_long_sizes = 5;
  uint64 max_global_short_sizes = 6;
}
    
message FundingRateState {
  bytes cumulative_interest_rate = 1;
  int64 last_update = 2;
  uint64 hourly_funding_dbps = 3;
}
    
message JumpRateState {
  uint64 min_rate_bps = 1;
  uint64 max_rate_bps = 2;
  uint64 target_rate_bps = 3;
  uint64 target_utilization_rate = 4;
}
    
message BorrowLendParams {
  uint64 borrows_limit_in_bps = 1;
  uint64 maintainance_margin_bps = 2;
  uint64 protocol_fee_bps = 3;
  uint64 liquidation_margin = 4;
  uint64 liquidation_fee_bps = 5;
}
    
message OraclePrice {
  uint64 price = 1;
  int32 exponent = 2;
}
    
message Price {
  uint64 price = 1;
  int32 expo = 2;
  int64 publish_time = 3;
}
    
message OracleParams {
  PublicKey oracle_account = 1;
  OracleType oracle_type = 2;
  uint64 buffer = 3;
  uint32 max_price_age_sec = 4;
}
    
message AmountAndFee {
  uint64 amount = 1;
  uint64 fee = 2;
  uint64 fee_bps = 3;
}
    
message Permissions {
  bool allow_swap = 1;
  bool allow_add_liquidity = 2;
  bool allow_remove_liquidity = 3;
  bool allow_increase_position = 4;
  bool allow_decrease_position = 5;
  bool allow_collateral_withdrawal = 6;
  bool allow_liquidate_position = 7;
}
    
message Fees {
  uint64 swap_multiplier = 1;
  uint64 stable_swap_multiplier = 2;
  uint64 add_remove_liquidity_bps = 3;
  uint64 swap_bps = 4;
  uint64 tax_bps = 5;
  uint64 stable_swap_bps = 6;
  uint64 stable_swap_tax_bps = 7;
  uint64 liquidation_reward_bps = 8;
  uint64 protocol_share_bps = 9;
}
    
message PoolApr {
  int64 last_updated = 1;
  uint64 fee_apr_bps = 2;
  uint64 realized_fee_usd = 3;
}
    
message Limit {
  bytes max_aum_usd = 1;
  bytes token_weightage_buffer_bps = 2;
  uint64 buffer = 3;
}
    
message Secp256k1Pubkey {
  uint32 prefix = 1;
  bytes key = 2;
}
    
message PriceImpactMechanismTradeSize {
}
    
message PriceImpactMechanismDeltaImbalance {
}
    
message OracleTypeNone {
}
    
message OracleTypeTest {
}
    
message OracleTypePyth {
}
    
message PriceCalcModeMin {
}
    
message PriceCalcModeMax {
}
    
message PriceCalcModeIgnore {
}
    
message PriceStaleToleranceStrict {
}
    
message PriceStaleToleranceLoose {
}
    
message TradePoolTypeIncrease {
}
    
message TradePoolTypeDecrease {
}
    
message RequestTypeMarket {
}
    
message RequestTypeTrigger {
}
    
message RequestChangeNone {
}
    
message RequestChangeIncrease {
}
    
message RequestChangeDecrease {
}
    
message SideNone {
}
    
message SideLong {
}
    
message SideShort {
}
    
message BorrowPosition {
  PublicKey owner = 1;
  PublicKey pool = 2;
  PublicKey custody = 3;
  int64 open_time = 4;
  int64 update_time = 5;
  bytes borrow_size = 6;
  bytes cumulative_compounded_interest_snapshot = 7;
  uint64 locked_collateral = 8;
  uint32 bump = 9;
  int64 last_borrowed = 10;
}
    
message Custody {
  PublicKey pool = 1;
  PublicKey mint = 2;
  PublicKey token_account = 3;
  uint32 decimals = 4;
  bool is_stable = 5;
  OracleParams oracle = 6;
  PricingParams pricing = 7;
  Permissions permissions = 8;
  uint64 target_ratio_bps = 9;
  Assets assets = 10;
  FundingRateState funding_rate_state = 11;
  uint32 bump = 12;
  uint32 token_account_bump = 13;
  uint64 increase_position_bps = 14;
  uint64 decrease_position_bps = 15;
  uint64 max_position_size_usd = 16;
  PublicKey doves_oracle = 17;
  JumpRateState jump_rate_state = 18;
  PublicKey doves_ag_oracle = 19;
  PriceImpactBuffer price_impact_buffer = 20;
  BorrowLendParams borrow_lend_parameters = 21;
  FundingRateState borrows_funding_rate_state = 22;
  bytes debt = 23;
  bytes borrow_lend_interests_accured = 24;
  uint64 borrow_limit_in_token_amount = 25;
  uint64 min_interest_fee_bps = 26;
  uint64 min_interest_fee_grace_period_seconds = 27;
  uint64 total_staked_amount_lamports = 28;
  uint64 max_total_staked_amount_lamports = 29;
  uint64 external_swap_fee_multiplier_bps = 30;
  bool disable_close_position_request = 31;
  uint64 withdrawal_limit_token_amount = 32;
  uint64 withdrawal_token_amount_accumulated = 33;
  int64 withdrawal_limit_last_reset_at = 34;
  uint64 withdrawal_limit_interval_seconds = 35;
}
    
message Perpetuals {
  Permissions permissions = 1;
  repeated PublicKey pools = 2;
  PublicKey admin = 3;
  uint32 transfer_authority_bump = 4;
  uint32 perpetuals_bump = 5;
  int64 inception_time = 6;
}
    
message Pool {
  string name = 1;
  repeated PublicKey custodies = 2;
  bytes aum_usd = 3;
  Limit limit = 4;
  Fees fees = 5;
  PoolApr pool_apr = 6;
  int64 max_request_execution_sec = 7;
  uint32 bump = 8;
  uint32 lp_token_bump = 9;
  int64 inception_time = 10;
  Secp256k1Pubkey parameter_update_oracle = 11;
  int64 aum_usd_updated_at = 12;
  uint64 max_trigger_price_diff_bps = 13;
  bool disable_close_position_request = 14;
  uint64 max_lp_token_price_change_bps = 15;
  uint64 aum_usd_refreshed_at_slot = 16;
}
    
message PositionRequest {
  PublicKey owner = 1;
  PublicKey pool = 2;
  PublicKey custody = 3;
  PublicKey position = 4;
  PublicKey mint = 5;
  int64 open_time = 6;
  int64 update_time = 7;
  uint64 size_usd_delta = 8;
  uint64 collateral_delta = 9;
  RequestChange request_change = 10;
  RequestType request_type = 11;
  Side side = 12;
  optional uint64 price_slippage = 13;
  optional uint64 jupiter_minimum_out = 14;
  optional uint64 pre_swap_amount = 15;
  optional uint64 trigger_price = 16;
  optional bool trigger_above_threshold = 17;
  optional bool entire_position = 18;
  bool executed = 19;
  uint64 counter = 20;
  uint32 bump = 21;
  optional PublicKey referral = 22;
}
    
message Position {
  PublicKey owner = 1;
  PublicKey pool = 2;
  PublicKey custody = 3;
  PublicKey collateral_custody = 4;
  int64 open_time = 5;
  int64 update_time = 6;
  Side side = 7;
  uint64 price = 8;
  uint64 size_usd = 9;
  uint64 collateral_usd = 10;
  int64 realised_pnl_usd = 11;
  bytes cumulative_interest_snapshot = 12;
  uint64 locked_amount = 13;
  uint32 bump = 14;
}
    
message StakeInfo {
  PublicKey pool = 1;
  PublicKey stake_account = 2;
  uint64 current_staked_amount_lamports = 3;
  uint64 total_staking_rewards_lamports = 4;
  int64 last_updated_at = 5;
  bool deactivating = 6;
  uint64 stake_account_index = 7;
  uint32 bump = 8;
}
    
message TokenLedger {
  PublicKey token_account = 1;
  uint64 amount = 2;
}
    
message InitAccounts {
  PublicKey upgrade_authority = 1;
  PublicKey admin = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey perpetuals_program = 5;
  PublicKey perpetuals_program_data = 6;
  PublicKey system_program = 7;
  PublicKey token_program = 8;
}
    
message InitArgs {
  bool allow_swap = 1;
  bool allow_add_liquidity = 2;
  bool allow_remove_liquidity = 3;
  bool allow_increase_position = 4;
  bool allow_decrease_position = 5;
  bool allow_collateral_withdrawal = 6;
  bool allow_liquidate_position = 7;
}
    
message Init {
  optional InitAccounts accounts = 1;
  optional InitArgs args = 2;
}
    
message AddPoolAccounts {
  PublicKey admin = 1;
  PublicKey transfer_authority = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey lp_token_mint = 5;
  PublicKey system_program = 6;
  PublicKey token_program = 7;
  PublicKey rent = 8;
}
    
message AddPoolArgs {
  string name = 1;
  Limit limit = 2;
  Fees fees = 3;
  int64 max_request_execution_sec = 4;
}
    
message AddPool {
  optional AddPoolAccounts accounts = 1;
  optional AddPoolArgs args = 2;
}
    
message AddCustodyAccounts {
  PublicKey admin = 1;
  PublicKey transfer_authority = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey custody = 5;
  PublicKey custody_token_account = 6;
  PublicKey custody_token_mint = 7;
  PublicKey system_program = 8;
  PublicKey token_program = 9;
  PublicKey rent = 10;
}
    
message AddCustodyArgs {
  bool is_stable = 1;
  OracleParams oracle = 2;
  PricingParams pricing = 3;
  Permissions permissions = 4;
  uint64 hourly_funding_dbps = 5;
  uint64 target_ratio_bps = 6;
  uint64 increase_position_bps = 7;
  uint64 decrease_position_bps = 8;
  PublicKey doves_oracle = 9;
  uint64 max_position_size_usd = 10;
  JumpRateState jump_rate = 11;
  uint64 price_impact_fee_factor = 12;
  float price_impact_exponent = 13;
  uint64 delta_imbalance_threshold_decimal = 14;
  uint64 max_fee_bps = 15;
  PublicKey doves_ag_oracle = 16;
}
    
message AddCustody {
  optional AddCustodyAccounts accounts = 1;
  optional AddCustodyArgs args = 2;
}
    
message SetCustodyConfigAccounts {
  PublicKey admin = 1;
  PublicKey perpetuals = 2;
  PublicKey custody = 3;
}
    
message SetCustodyConfigArgs {
  OracleParams oracle = 1;
  PricingParams pricing = 2;
  Permissions permissions = 3;
  uint64 hourly_funding_dbps = 4;
  uint64 target_ratio_bps = 5;
  uint64 increase_position_bps = 6;
  uint64 decrease_position_bps = 7;
  PublicKey doves_oracle = 8;
  uint64 max_position_size_usd = 9;
  JumpRateState jump_rate = 10;
  uint64 price_impact_fee_factor = 11;
  float price_impact_exponent = 12;
  uint64 delta_imbalance_threshold_decimal = 13;
  uint64 max_fee_bps = 14;
  PublicKey doves_ag_oracle = 15;
  BorrowLendParams borrow_lend_parameters = 16;
  uint64 borrow_hourly_funding_dbps = 17;
  uint64 borrow_limit_in_token_amount = 18;
  uint64 min_interest_fee_bps = 19;
  uint64 min_interest_fee_grace_period_seconds = 20;
  uint64 max_total_staked_amount_lamports = 21;
  uint64 external_swap_fee_multiplier_bps = 22;
  bool disable_close_position_request = 23;
  uint64 withdrawal_limit_interval_seconds = 24;
  uint64 withdrawal_limit_token_amount = 25;
}
    
message SetCustodyConfig {
  optional SetCustodyConfigAccounts accounts = 1;
  optional SetCustodyConfigArgs args = 2;
}
    
message SetPoolConfigAccounts {
  PublicKey admin = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
}
    
message SetPoolConfigArgs {
  Fees fees = 1;
  Limit limit = 2;
  int64 max_request_execution_sec = 3;
  Secp256k1Pubkey parameter_update_oracle = 4;
  uint64 max_trigger_price_diff_bps = 5;
  bool disable_close_position_request = 6;
  uint64 max_lp_token_price_change_bps = 7;
}
    
message SetPoolConfig {
  optional SetPoolConfigAccounts accounts = 1;
  optional SetPoolConfigArgs args = 2;
}
    
message SetPerpetualsConfigAccounts {
  PublicKey admin = 1;
  PublicKey perpetuals = 2;
}
    
message SetPerpetualsConfigArgs {
  Permissions permissions = 1;
}
    
message SetPerpetualsConfig {
  optional SetPerpetualsConfigAccounts accounts = 1;
  optional SetPerpetualsConfigArgs args = 2;
}
    
message TransferAdminAccounts {
  PublicKey admin = 1;
  PublicKey new_admin = 2;
  PublicKey perpetuals = 3;
}
    
message TransferAdminArgs {
}
    
message TransferAdmin {
  optional TransferAdminAccounts accounts = 1;
  optional TransferAdminArgs args = 2;
}
    
message WithdrawFees2Accounts {
  PublicKey keeper = 1;
  PublicKey transfer_authority = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey custody = 5;
  PublicKey custody_token_account = 6;
  PublicKey custody_doves_price_account = 7;
  PublicKey custody_pythnet_price_account = 8;
  PublicKey receiving_token_account = 9;
  PublicKey token_program = 10;
}
    
message WithdrawFees2Args {
}
    
message WithdrawFees2 {
  optional WithdrawFees2Accounts accounts = 1;
  optional WithdrawFees2Args args = 2;
}
    
message CreateTokenMetadataAccounts {
  PublicKey admin = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey transfer_authority = 4;
  PublicKey metadata = 5;
  PublicKey lp_token_mint = 6;
  PublicKey token_metadata_program = 7;
  PublicKey system_program = 8;
  PublicKey rent = 9;
}
    
message CreateTokenMetadataArgs {
  string name = 1;
  string symbol = 2;
  string uri = 3;
}
    
message CreateTokenMetadata {
  optional CreateTokenMetadataAccounts accounts = 1;
  optional CreateTokenMetadataArgs args = 2;
}
    
message CreateTokenLedgerAccounts {
  PublicKey token_ledger = 1;
  PublicKey payer = 2;
  PublicKey system_program = 3;
}
    
message CreateTokenLedgerArgs {
}
    
message CreateTokenLedger {
  optional CreateTokenLedgerAccounts accounts = 1;
  optional CreateTokenLedgerArgs args = 2;
}
    
message ReallocCustodyAccounts {
  PublicKey keeper = 1;
  PublicKey custody = 2;
  PublicKey system_program = 3;
  PublicKey rent = 4;
}
    
message ReallocCustodyArgs {
}
    
message ReallocCustody {
  optional ReallocCustodyAccounts accounts = 1;
  optional ReallocCustodyArgs args = 2;
}
    
message ReallocPoolAccounts {
  PublicKey keeper = 1;
  PublicKey pool = 2;
  PublicKey system_program = 3;
  PublicKey rent = 4;
}
    
message ReallocPoolArgs {
}
    
message ReallocPool {
  optional ReallocPoolAccounts accounts = 1;
  optional ReallocPoolArgs args = 2;
}
    
message CreateAndDelegateStakeAccountAccounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey custody_token_account = 5;
  PublicKey transfer_authority = 6;
  PublicKey stake_account = 7;
  PublicKey stake_info = 8;
  PublicKey validator_vote_account = 9;
  PublicKey stake_config = 10;
  PublicKey wsol_mint = 11;
  PublicKey temp_wsol_account = 12;
  PublicKey rent = 13;
  PublicKey clock = 14;
  PublicKey stake_history = 15;
  PublicKey stake_program = 16;
  PublicKey system_program = 17;
  PublicKey token_program = 18;
}
    
message CreateAndDelegateStakeAccountArgs {
  uint64 stake_account_index = 1;
  uint64 stake_amount_lamports = 2;
}
    
message CreateAndDelegateStakeAccount {
  optional CreateAndDelegateStakeAccountAccounts accounts = 1;
  optional CreateAndDelegateStakeAccountArgs args = 2;
}
    
message UnstakeAccounts {
  PublicKey operator = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey stake_account = 6;
  PublicKey stake_info = 7;
  PublicKey clock = 8;
  PublicKey stake_program = 9;
}
    
message UnstakeArgs {
}
    
message Unstake {
  optional UnstakeAccounts accounts = 1;
  optional UnstakeArgs args = 2;
}
    
message WithdrawStakeAccounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey custody_token_account = 5;
  PublicKey transfer_authority = 6;
  PublicKey stake_account = 7;
  PublicKey stake_info = 8;
  PublicKey clock = 9;
  PublicKey stake_history = 10;
  PublicKey stake_program = 11;
  PublicKey system_program = 12;
  PublicKey token_program = 13;
}
    
message WithdrawStakeArgs {
}
    
message WithdrawStake {
  optional WithdrawStakeAccounts accounts = 1;
  optional WithdrawStakeArgs args = 2;
}
    
message RedeemStakeAccounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey stake_account = 5;
  PublicKey stake_info = 6;
}
    
message RedeemStakeArgs {
}
    
message RedeemStake {
  optional RedeemStakeAccounts accounts = 1;
  optional RedeemStakeArgs args = 2;
}
    
message OperatorSetCustodyConfigAccounts {
  PublicKey operator = 1;
  PublicKey custody = 2;
}
    
message OperatorSetCustodyConfigArgs {
  PricingParams pricing = 1;
  uint64 hourly_funding_dbps = 2;
  uint64 target_ratio_bps = 3;
  uint64 increase_position_bps = 4;
  uint64 decrease_position_bps = 5;
  uint64 max_position_size_usd = 6;
  JumpRateState jump_rate = 7;
  uint64 price_impact_fee_factor = 8;
  float price_impact_exponent = 9;
  uint64 delta_imbalance_threshold_decimal = 10;
  uint64 max_fee_bps = 11;
  BorrowLendParams borrow_lend_parameters = 12;
  uint64 borrow_hourly_funding_dbps = 13;
  uint64 borrow_limit_in_token_amount = 14;
  uint64 min_interest_fee_bps = 15;
  uint64 min_interest_fee_grace_period_seconds = 16;
  uint64 max_total_staked_amount_lamports = 17;
  uint64 external_swap_fee_multiplier_bps = 18;
  bool disable_close_position_request = 19;
  uint64 withdrawal_limit_token_amount = 20;
  uint64 withdrawal_limit_interval_seconds = 21;
}
    
message OperatorSetCustodyConfig {
  optional OperatorSetCustodyConfigAccounts accounts = 1;
  optional OperatorSetCustodyConfigArgs args = 2;
}
    
message OperatorSetPoolConfigAccounts {
  PublicKey operator = 1;
  PublicKey pool = 2;
}
    
message OperatorSetPoolConfigArgs {
  Fees fees = 1;
  Limit limit = 2;
  int64 max_request_execution_sec = 3;
  uint64 max_trigger_price_diff_bps = 4;
  bool disable_close_position_request = 5;
  uint64 max_lp_token_price_change_bps = 6;
}
    
message OperatorSetPoolConfig {
  optional OperatorSetPoolConfigAccounts accounts = 1;
  optional OperatorSetPoolConfigArgs args = 2;
}
    
message TestInitAccounts {
  PublicKey upgrade_authority = 1;
  PublicKey admin = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey system_program = 5;
  PublicKey token_program = 6;
}
    
message TestInitArgs {
  bool allow_swap = 1;
  bool allow_add_liquidity = 2;
  bool allow_remove_liquidity = 3;
  bool allow_increase_position = 4;
  bool allow_decrease_position = 5;
  bool allow_collateral_withdrawal = 6;
  bool allow_liquidate_position = 7;
}
    
message TestInit {
  optional TestInitAccounts accounts = 1;
  optional TestInitArgs args = 2;
}
    
message SetTestTimeAccounts {
  PublicKey admin = 1;
  PublicKey perpetuals = 2;
}
    
message SetTestTimeArgs {
  int64 time = 1;
}
    
message SetTestTime {
  optional SetTestTimeAccounts accounts = 1;
  optional SetTestTimeArgs args = 2;
}
    
message SetTokenLedgerAccounts {
  PublicKey token_ledger = 1;
  PublicKey token_account = 2;
  PublicKey token_program = 3;
}
    
message SetTokenLedgerArgs {
}
    
message SetTokenLedger {
  optional SetTokenLedgerAccounts accounts = 1;
  optional SetTokenLedgerArgs args = 2;
}
    
message Swap2Accounts {
  PublicKey owner = 1;
  PublicKey funding_account = 2;
  PublicKey receiving_account = 3;
  PublicKey transfer_authority = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey receiving_custody = 7;
  PublicKey receiving_custody_doves_price_account = 8;
  PublicKey receiving_custody_pythnet_price_account = 9;
  PublicKey receiving_custody_token_account = 10;
  PublicKey dispensing_custody = 11;
  PublicKey dispensing_custody_doves_price_account = 12;
  PublicKey dispensing_custody_pythnet_price_account = 13;
  PublicKey dispensing_custody_token_account = 14;
  PublicKey token_program = 15;
  PublicKey event_authority = 16;
  PublicKey program = 17;
}
    
message Swap2Args {
  uint64 amount_in = 1;
  uint64 min_amount_out = 2;
}
    
message Swap2 {
  optional Swap2Accounts accounts = 1;
  optional Swap2Args args = 2;
}
    
message SwapWithTokenLedgerAccounts {
  PublicKey owner = 1;
  PublicKey funding_account = 2;
  PublicKey receiving_account = 3;
  PublicKey transfer_authority = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey receiving_custody = 7;
  PublicKey receiving_custody_doves_price_account = 8;
  PublicKey receiving_custody_token_account = 9;
  PublicKey dispensing_custody = 10;
  PublicKey dispensing_custody_doves_price_account = 11;
  PublicKey dispensing_custody_token_account = 12;
  PublicKey token_ledger = 13;
  PublicKey token_program = 14;
  PublicKey instruction = 15;
  PublicKey event_authority = 16;
  PublicKey program = 17;
}
    
message SwapWithTokenLedgerArgs {
  uint64 min_amount_out = 1;
}
    
message SwapWithTokenLedger {
  optional SwapWithTokenLedgerAccounts accounts = 1;
  optional SwapWithTokenLedgerArgs args = 2;
}
    
message InstantIncreasePositionPreSwapAccounts {
  PublicKey owner = 1;
  PublicKey funding_account = 2;
  PublicKey receiving_account = 3;
  PublicKey transfer_authority = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey receiving_custody = 7;
  PublicKey receiving_custody_doves_price_account = 8;
  PublicKey receiving_custody_token_account = 9;
  PublicKey dispensing_custody = 10;
  PublicKey dispensing_custody_doves_price_account = 11;
  PublicKey dispensing_custody_token_account = 12;
  PublicKey token_program = 13;
  PublicKey instruction = 14;
  PublicKey event_authority = 15;
  PublicKey program = 16;
}
    
message InstantIncreasePositionPreSwapArgs {
  uint64 amount_in = 1;
  uint64 min_amount_out = 2;
}
    
message InstantIncreasePositionPreSwap {
  optional InstantIncreasePositionPreSwapAccounts accounts = 1;
  optional InstantIncreasePositionPreSwapArgs args = 2;
}
    
message AddLiquidity2Accounts {
  PublicKey owner = 1;
  PublicKey funding_account = 2;
  PublicKey lp_token_account = 3;
  PublicKey transfer_authority = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey custody = 7;
  PublicKey custody_doves_price_account = 8;
  PublicKey custody_pythnet_price_account = 9;
  PublicKey custody_token_account = 10;
  PublicKey lp_token_mint = 11;
  PublicKey token_program = 12;
  PublicKey event_authority = 13;
  PublicKey program = 14;
}
    
message AddLiquidity2Args {
  uint64 token_amount_in = 1;
  uint64 min_lp_amount_out = 2;
  optional uint64 token_amount_pre_swap = 3;
}
    
message AddLiquidity2 {
  optional AddLiquidity2Accounts accounts = 1;
  optional AddLiquidity2Args args = 2;
}
    
message RemoveLiquidity2Accounts {
  PublicKey owner = 1;
  PublicKey receiving_account = 2;
  PublicKey lp_token_account = 3;
  PublicKey transfer_authority = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey custody = 7;
  PublicKey custody_doves_price_account = 8;
  PublicKey custody_pythnet_price_account = 9;
  PublicKey custody_token_account = 10;
  PublicKey lp_token_mint = 11;
  PublicKey token_program = 12;
  PublicKey event_authority = 13;
  PublicKey program = 14;
}
    
message RemoveLiquidity2Args {
  uint64 lp_amount_in = 1;
  uint64 min_amount_out = 2;
}
    
message RemoveLiquidity2 {
  optional RemoveLiquidity2Accounts accounts = 1;
  optional RemoveLiquidity2Args args = 2;
}
    
message CreateIncreasePositionMarketRequestAccounts {
  PublicKey owner = 1;
  PublicKey funding_account = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey position = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey custody = 8;
  PublicKey collateral_custody = 9;
  PublicKey input_mint = 10;
  PublicKey referral = 11;
  PublicKey token_program = 12;
  PublicKey associated_token_program = 13;
  PublicKey system_program = 14;
  PublicKey event_authority = 15;
  PublicKey program = 16;
}
    
message CreateIncreasePositionMarketRequestArgs {
  uint64 size_usd_delta = 1;
  uint64 collateral_token_delta = 2;
  Side side = 3;
  uint64 price_slippage = 4;
  optional uint64 jupiter_minimum_out = 5;
  uint64 counter = 6;
}
    
message CreateIncreasePositionMarketRequest {
  optional CreateIncreasePositionMarketRequestAccounts accounts = 1;
  optional CreateIncreasePositionMarketRequestArgs args = 2;
}
    
message CreateDecreasePositionRequest2Accounts {
  PublicKey owner = 1;
  PublicKey receiving_account = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey position = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey custody = 8;
  PublicKey custody_doves_price_account = 9;
  PublicKey custody_pythnet_price_account = 10;
  PublicKey collateral_custody = 11;
  PublicKey desired_mint = 12;
  PublicKey referral = 13;
  PublicKey token_program = 14;
  PublicKey associated_token_program = 15;
  PublicKey system_program = 16;
  PublicKey event_authority = 17;
  PublicKey program = 18;
}
    
message CreateDecreasePositionRequest2Args {
  uint64 collateral_usd_delta = 1;
  uint64 size_usd_delta = 2;
  RequestType request_type = 3;
  optional uint64 price_slippage = 4;
  optional uint64 jupiter_minimum_out = 5;
  optional uint64 trigger_price = 6;
  optional bool trigger_above_threshold = 7;
  optional bool entire_position = 8;
  uint64 counter = 9;
}
    
message CreateDecreasePositionRequest2 {
  optional CreateDecreasePositionRequest2Accounts accounts = 1;
  optional CreateDecreasePositionRequest2Args args = 2;
}
    
message CreateDecreasePositionMarketRequestAccounts {
  PublicKey owner = 1;
  PublicKey receiving_account = 2;
  PublicKey perpetuals = 3;
  PublicKey pool = 4;
  PublicKey position = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey custody = 8;
  PublicKey collateral_custody = 9;
  PublicKey desired_mint = 10;
  PublicKey referral = 11;
  PublicKey token_program = 12;
  PublicKey associated_token_program = 13;
  PublicKey system_program = 14;
  PublicKey event_authority = 15;
  PublicKey program = 16;
}
    
message CreateDecreasePositionMarketRequestArgs {
  uint64 collateral_usd_delta = 1;
  uint64 size_usd_delta = 2;
  uint64 price_slippage = 3;
  optional uint64 jupiter_minimum_out = 4;
  optional bool entire_position = 5;
  uint64 counter = 6;
}
    
message CreateDecreasePositionMarketRequest {
  optional CreateDecreasePositionMarketRequestAccounts accounts = 1;
  optional CreateDecreasePositionMarketRequestArgs args = 2;
}
    
message UpdateDecreasePositionRequest2Accounts {
  PublicKey owner = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey position = 4;
  PublicKey position_request = 5;
  PublicKey custody = 6;
  PublicKey custody_doves_price_account = 7;
  PublicKey custody_pythnet_price_account = 8;
}
    
message UpdateDecreasePositionRequest2Args {
  uint64 size_usd_delta = 1;
  uint64 trigger_price = 2;
}
    
message UpdateDecreasePositionRequest2 {
  optional UpdateDecreasePositionRequest2Accounts accounts = 1;
  optional UpdateDecreasePositionRequest2Args args = 2;
}
    
message ClosePositionRequest2Accounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey owner_ata = 3;
  PublicKey pool = 4;
  PublicKey position_request = 5;
  PublicKey position_request_ata = 6;
  PublicKey position = 7;
  PublicKey mint = 8;
  PublicKey token_program = 9;
  PublicKey system_program = 10;
  PublicKey associated_token_program = 11;
  PublicKey event_authority = 12;
  PublicKey program = 13;
}
    
message ClosePositionRequest2Args {
}
    
message ClosePositionRequest2 {
  optional ClosePositionRequest2Accounts accounts = 1;
  optional ClosePositionRequest2Args args = 2;
}
    
message ClosePositionRequest3Accounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey owner_ata = 3;
  PublicKey pool = 4;
  PublicKey position_request = 5;
  PublicKey position_request_ata = 6;
  PublicKey position = 7;
  PublicKey custody = 8;
  PublicKey mint = 9;
  PublicKey token_program = 10;
  PublicKey system_program = 11;
  PublicKey associated_token_program = 12;
  PublicKey event_authority = 13;
  PublicKey program = 14;
}
    
message ClosePositionRequest3Args {
}
    
message ClosePositionRequest3 {
  optional ClosePositionRequest3Accounts accounts = 1;
  optional ClosePositionRequest3Args args = 2;
}
    
message IncreasePosition4Accounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey position_request = 4;
  PublicKey position_request_ata = 5;
  PublicKey position = 6;
  PublicKey custody = 7;
  PublicKey custody_doves_price_account = 8;
  PublicKey custody_pythnet_price_account = 9;
  PublicKey collateral_custody = 10;
  PublicKey collateral_custody_doves_price_account = 11;
  PublicKey collateral_custody_pythnet_price_account = 12;
  PublicKey collateral_custody_token_account = 13;
  PublicKey token_program = 14;
  PublicKey event_authority = 15;
  PublicKey program = 16;
}
    
message IncreasePosition4Args {
}
    
message IncreasePosition4 {
  optional IncreasePosition4Accounts accounts = 1;
  optional IncreasePosition4Args args = 2;
}
    
message IncreasePositionPreSwapAccounts {
  PublicKey keeper = 1;
  PublicKey keeper_ata = 2;
  PublicKey position_request = 3;
  PublicKey position_request_ata = 4;
  PublicKey position = 5;
  PublicKey collateral_custody = 6;
  PublicKey collateral_custody_token_account = 7;
  PublicKey instruction = 8;
  PublicKey token_program = 9;
  PublicKey event_authority = 10;
  PublicKey program = 11;
}
    
message IncreasePositionPreSwapArgs {
}
    
message IncreasePositionPreSwap {
  optional IncreasePositionPreSwapAccounts accounts = 1;
  optional IncreasePositionPreSwapArgs args = 2;
}
    
message IncreasePositionWithInternalSwapAccounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey position_request = 4;
  PublicKey position_request_ata = 5;
  PublicKey position = 6;
  PublicKey custody = 7;
  PublicKey custody_doves_price_account = 8;
  PublicKey custody_pythnet_price_account = 9;
  PublicKey collateral_custody = 10;
  PublicKey collateral_custody_doves_price_account = 11;
  PublicKey collateral_custody_pythnet_price_account = 12;
  PublicKey collateral_custody_token_account = 13;
  PublicKey receiving_custody = 14;
  PublicKey receiving_custody_doves_price_account = 15;
  PublicKey receiving_custody_pythnet_price_account = 16;
  PublicKey receiving_custody_token_account = 17;
  PublicKey token_program = 18;
  PublicKey event_authority = 19;
  PublicKey program = 20;
}
    
message IncreasePositionWithInternalSwapArgs {
}
    
message IncreasePositionWithInternalSwap {
  optional IncreasePositionWithInternalSwapAccounts accounts = 1;
  optional IncreasePositionWithInternalSwapArgs args = 2;
}
    
message DecreasePosition4Accounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey custody_pythnet_price_account = 11;
  PublicKey collateral_custody = 12;
  PublicKey collateral_custody_doves_price_account = 13;
  PublicKey collateral_custody_pythnet_price_account = 14;
  PublicKey collateral_custody_token_account = 15;
  PublicKey token_program = 16;
  PublicKey event_authority = 17;
  PublicKey program = 18;
}
    
message DecreasePosition4Args {
}
    
message DecreasePosition4 {
  optional DecreasePosition4Accounts accounts = 1;
  optional DecreasePosition4Args args = 2;
}
    
message DecreasePositionWithInternalSwapAccounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey custody_pythnet_price_account = 11;
  PublicKey collateral_custody = 12;
  PublicKey collateral_custody_doves_price_account = 13;
  PublicKey collateral_custody_pythnet_price_account = 14;
  PublicKey collateral_custody_token_account = 15;
  PublicKey dispensing_custody = 16;
  PublicKey dispensing_custody_doves_price_account = 17;
  PublicKey dispensing_custody_pythnet_price_account = 18;
  PublicKey dispensing_custody_token_account = 19;
  PublicKey token_program = 20;
  PublicKey event_authority = 21;
  PublicKey program = 22;
}
    
message DecreasePositionWithInternalSwapArgs {
}
    
message DecreasePositionWithInternalSwap {
  optional DecreasePositionWithInternalSwapAccounts accounts = 1;
  optional DecreasePositionWithInternalSwapArgs args = 2;
}
    
message DecreasePositionWithTpslAccounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey collateral_custody = 11;
  PublicKey collateral_custody_doves_price_account = 12;
  PublicKey collateral_custody_token_account = 13;
  PublicKey token_program = 14;
  PublicKey event_authority = 15;
  PublicKey program = 16;
}
    
message DecreasePositionWithTpslArgs {
}
    
message DecreasePositionWithTpsl {
  optional DecreasePositionWithTpslAccounts accounts = 1;
  optional DecreasePositionWithTpslArgs args = 2;
}
    
message DecreasePositionWithTpslAndInternalSwapAccounts {
  PublicKey keeper = 1;
  PublicKey owner = 2;
  PublicKey transfer_authority = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position_request = 6;
  PublicKey position_request_ata = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey collateral_custody = 11;
  PublicKey collateral_custody_doves_price_account = 12;
  PublicKey collateral_custody_token_account = 13;
  PublicKey dispensing_custody = 14;
  PublicKey dispensing_custody_doves_price_account = 15;
  PublicKey dispensing_custody_token_account = 16;
  PublicKey token_program = 17;
  PublicKey event_authority = 18;
  PublicKey program = 19;
}
    
message DecreasePositionWithTpslAndInternalSwapArgs {
}
    
message DecreasePositionWithTpslAndInternalSwap {
  optional DecreasePositionWithTpslAndInternalSwapAccounts accounts = 1;
  optional DecreasePositionWithTpslAndInternalSwapArgs args = 2;
}
    
message LiquidateFullPosition4Accounts {
  PublicKey signer = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey position = 4;
  PublicKey custody = 5;
  PublicKey custody_doves_price_account = 6;
  PublicKey custody_pythnet_price_account = 7;
  PublicKey collateral_custody = 8;
  PublicKey collateral_custody_doves_price_account = 9;
  PublicKey collateral_custody_pythnet_price_account = 10;
  PublicKey collateral_custody_token_account = 11;
  PublicKey event_authority = 12;
  PublicKey program = 13;
}
    
message LiquidateFullPosition4Args {
}
    
message LiquidateFullPosition4 {
  optional LiquidateFullPosition4Accounts accounts = 1;
  optional LiquidateFullPosition4Args args = 2;
}
    
message RefreshAssetsUnderManagementAccounts {
  PublicKey keeper = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey lp_token_mint = 4;
}
    
message RefreshAssetsUnderManagementArgs {
}
    
message RefreshAssetsUnderManagement {
  optional RefreshAssetsUnderManagementAccounts accounts = 1;
  optional RefreshAssetsUnderManagementArgs args = 2;
}
    
message SetMaxGlobalSizesAccounts {
  PublicKey keeper = 1;
  PublicKey custody = 2;
  PublicKey pool = 3;
}
    
message SetMaxGlobalSizesArgs {
  uint64 max_global_long_size = 1;
  uint64 max_global_short_size = 2;
  uint32 recovery_id = 3;
  bytes signature = 4;
  bytes reference_id = 5;
  uint64 timestamp = 6;
}
    
message SetMaxGlobalSizes {
  optional SetMaxGlobalSizesAccounts accounts = 1;
  optional SetMaxGlobalSizesArgs args = 2;
}
    
message InstantCreateTpslAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey receiving_account = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey position = 7;
  PublicKey position_request = 8;
  PublicKey position_request_ata = 9;
  PublicKey custody = 10;
  PublicKey custody_doves_price_account = 11;
  PublicKey custody_pythnet_price_account = 12;
  PublicKey collateral_custody = 13;
  PublicKey desired_mint = 14;
  PublicKey referral = 15;
  PublicKey token_program = 16;
  PublicKey associated_token_program = 17;
  PublicKey system_program = 18;
  PublicKey event_authority = 19;
  PublicKey program = 20;
}
    
message InstantCreateTpslArgs {
  uint64 collateral_usd_delta = 1;
  uint64 size_usd_delta = 2;
  uint64 trigger_price = 3;
  bool trigger_above_threshold = 4;
  bool entire_position = 5;
  uint64 counter = 6;
  int64 request_time = 7;
}
    
message InstantCreateTpsl {
  optional InstantCreateTpslAccounts accounts = 1;
  optional InstantCreateTpslArgs args = 2;
}
    
message InstantCreateLimitOrderAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey funding_account = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey position = 7;
  PublicKey position_request = 8;
  PublicKey position_request_ata = 9;
  PublicKey custody = 10;
  PublicKey custody_doves_price_account = 11;
  PublicKey custody_pythnet_price_account = 12;
  PublicKey collateral_custody = 13;
  PublicKey input_mint = 14;
  PublicKey referral = 15;
  PublicKey token_program = 16;
  PublicKey associated_token_program = 17;
  PublicKey system_program = 18;
  PublicKey event_authority = 19;
  PublicKey program = 20;
}
    
message InstantCreateLimitOrderArgs {
  uint64 size_usd_delta = 1;
  uint64 collateral_token_delta = 2;
  Side side = 3;
  uint64 trigger_price = 4;
  bool trigger_above_threshold = 5;
  uint64 counter = 6;
  int64 request_time = 7;
}
    
message InstantCreateLimitOrder {
  optional InstantCreateLimitOrderAccounts accounts = 1;
  optional InstantCreateLimitOrderArgs args = 2;
}
    
message InstantIncreasePositionAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey funding_account = 4;
  PublicKey perpetuals = 5;
  PublicKey pool = 6;
  PublicKey position = 7;
  PublicKey custody = 8;
  PublicKey custody_doves_price_account = 9;
  PublicKey custody_pythnet_price_account = 10;
  PublicKey collateral_custody = 11;
  PublicKey collateral_custody_doves_price_account = 12;
  PublicKey collateral_custody_pythnet_price_account = 13;
  PublicKey collateral_custody_token_account = 14;
  PublicKey token_ledger = 15;
  PublicKey referral = 16;
  PublicKey token_program = 17;
  PublicKey system_program = 18;
  PublicKey event_authority = 19;
  PublicKey program = 20;
}
    
message InstantIncreasePositionArgs {
  uint64 size_usd_delta = 1;
  optional uint64 collateral_token_delta = 2;
  Side side = 3;
  uint64 price_slippage = 4;
  int64 request_time = 5;
}
    
message InstantIncreasePosition {
  optional InstantIncreasePositionAccounts accounts = 1;
  optional InstantIncreasePositionArgs args = 2;
}
    
message InstantDecreasePositionAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey receiving_account = 4;
  PublicKey transfer_authority = 5;
  PublicKey perpetuals = 6;
  PublicKey pool = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey custody_pythnet_price_account = 11;
  PublicKey collateral_custody = 12;
  PublicKey collateral_custody_doves_price_account = 13;
  PublicKey collateral_custody_pythnet_price_account = 14;
  PublicKey collateral_custody_token_account = 15;
  PublicKey desired_mint = 16;
  PublicKey referral = 17;
  PublicKey token_program = 18;
  PublicKey associated_token_program = 19;
  PublicKey system_program = 20;
  PublicKey event_authority = 21;
  PublicKey program = 22;
}
    
message InstantDecreasePositionArgs {
  uint64 collateral_usd_delta = 1;
  uint64 size_usd_delta = 2;
  uint64 price_slippage = 3;
  optional bool entire_position = 4;
  int64 request_time = 5;
}
    
message InstantDecreasePosition {
  optional InstantDecreasePositionAccounts accounts = 1;
  optional InstantDecreasePositionArgs args = 2;
}
    
message InstantDecreasePosition2Accounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey receiving_account = 4;
  PublicKey transfer_authority = 5;
  PublicKey perpetuals = 6;
  PublicKey pool = 7;
  PublicKey position = 8;
  PublicKey custody = 9;
  PublicKey custody_doves_price_account = 10;
  PublicKey collateral_custody = 11;
  PublicKey collateral_custody_doves_price_account = 12;
  PublicKey collateral_custody_token_account = 13;
  PublicKey desired_mint = 14;
  PublicKey referral = 15;
  PublicKey position_request = 16;
  PublicKey position_request_ata = 17;
  PublicKey token_program = 18;
  PublicKey associated_token_program = 19;
  PublicKey system_program = 20;
  PublicKey event_authority = 21;
  PublicKey program = 22;
}
    
message InstantDecreasePosition2Args {
  uint64 collateral_usd_delta = 1;
  uint64 size_usd_delta = 2;
  uint64 price_slippage = 3;
  optional bool entire_position = 4;
  int64 request_time = 5;
  uint64 counter = 6;
}
    
message InstantDecreasePosition2 {
  optional InstantDecreasePosition2Accounts accounts = 1;
  optional InstantDecreasePosition2Args args = 2;
}
    
message InstantUpdateLimitOrderAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position = 6;
  PublicKey position_request = 7;
  PublicKey custody = 8;
  PublicKey custody_doves_price_account = 9;
  PublicKey custody_pythnet_price_account = 10;
}
    
message InstantUpdateLimitOrderArgs {
  uint64 size_usd_delta = 1;
  uint64 trigger_price = 2;
  int64 request_time = 3;
}
    
message InstantUpdateLimitOrder {
  optional InstantUpdateLimitOrderAccounts accounts = 1;
  optional InstantUpdateLimitOrderArgs args = 2;
}
    
message InstantUpdateTpslAccounts {
  PublicKey keeper = 1;
  PublicKey api_keeper = 2;
  PublicKey owner = 3;
  PublicKey perpetuals = 4;
  PublicKey pool = 5;
  PublicKey position = 6;
  PublicKey position_request = 7;
  PublicKey custody = 8;
  PublicKey custody_doves_price_account = 9;
  PublicKey custody_pythnet_price_account = 10;
  PublicKey event_authority = 11;
  PublicKey program = 12;
}
    
message InstantUpdateTpslArgs {
  uint64 size_usd_delta = 1;
  uint64 trigger_price = 2;
  int64 request_time = 3;
}
    
message InstantUpdateTpsl {
  optional InstantUpdateTpslAccounts accounts = 1;
  optional InstantUpdateTpslArgs args = 2;
}
    
message GetAddLiquidityAmountAndFee2Accounts {
  PublicKey perpetuals = 1;
  PublicKey pool = 2;
  PublicKey custody = 3;
  PublicKey custody_doves_price_account = 4;
  PublicKey custody_pythnet_price_account = 5;
  PublicKey lp_token_mint = 6;
}
    
message GetAddLiquidityAmountAndFee2Args {
  uint64 token_amount_in = 1;
}
    
message GetAddLiquidityAmountAndFee2 {
  optional GetAddLiquidityAmountAndFee2Accounts accounts = 1;
  optional GetAddLiquidityAmountAndFee2Args args = 2;
}
    
message GetRemoveLiquidityAmountAndFee2Accounts {
  PublicKey perpetuals = 1;
  PublicKey pool = 2;
  PublicKey custody = 3;
  PublicKey custody_doves_price_account = 4;
  PublicKey custody_pythnet_price_account = 5;
  PublicKey lp_token_mint = 6;
}
    
message GetRemoveLiquidityAmountAndFee2Args {
  uint64 lp_amount_in = 1;
}
    
message GetRemoveLiquidityAmountAndFee2 {
  optional GetRemoveLiquidityAmountAndFee2Accounts accounts = 1;
  optional GetRemoveLiquidityAmountAndFee2Args args = 2;
}
    
message GetAssetsUnderManagement2Accounts {
  PublicKey perpetuals = 1;
  PublicKey pool = 2;
}
    
message GetAssetsUnderManagement2Args {
  optional PriceCalcMode mode = 1;
}
    
message GetAssetsUnderManagement2 {
  optional GetAssetsUnderManagement2Accounts accounts = 1;
  optional GetAssetsUnderManagement2Args args = 2;
}
    
message BorrowFromCustodyAccounts {
  PublicKey owner = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey borrow_position = 6;
  PublicKey custody_token_account = 7;
  PublicKey user_token_account = 8;
  PublicKey lp_token_mint = 9;
  PublicKey token_program = 10;
  PublicKey event_authority = 11;
  PublicKey program = 12;
}
    
message BorrowFromCustodyArgs {
  uint64 amount = 1;
}
    
message BorrowFromCustody {
  optional BorrowFromCustodyAccounts accounts = 1;
  optional BorrowFromCustodyArgs args = 2;
}
    
message RepayToCustodyAccounts {
  PublicKey owner = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey borrow_position = 5;
  PublicKey custody_token_account = 6;
  PublicKey user_token_account = 7;
  PublicKey token_program = 8;
  PublicKey event_authority = 9;
  PublicKey program = 10;
}
    
message RepayToCustodyArgs {
  uint64 amount = 1;
}
    
message RepayToCustody {
  optional RepayToCustodyAccounts accounts = 1;
  optional RepayToCustodyArgs args = 2;
}
    
message DepositCollateralForBorrowsAccounts {
  PublicKey owner = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey borrow_position = 6;
  PublicKey collateral_token_account = 7;
  PublicKey user_token_account = 8;
  PublicKey lp_token_mint = 9;
  PublicKey token_program = 10;
  PublicKey system_program = 11;
  PublicKey event_authority = 12;
  PublicKey program = 13;
}
    
message DepositCollateralForBorrowsArgs {
  uint64 amount = 1;
}
    
message DepositCollateralForBorrows {
  optional DepositCollateralForBorrowsAccounts accounts = 1;
  optional DepositCollateralForBorrowsArgs args = 2;
}
    
message WithdrawCollateralForBorrowsAccounts {
  PublicKey owner = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey borrow_position = 6;
  PublicKey collateral_token_account = 7;
  PublicKey user_token_account = 8;
  PublicKey lp_token_mint = 9;
  PublicKey token_program = 10;
  PublicKey event_authority = 11;
  PublicKey program = 12;
}
    
message WithdrawCollateralForBorrowsArgs {
  uint64 amount = 1;
}
    
message WithdrawCollateralForBorrows {
  optional WithdrawCollateralForBorrowsAccounts accounts = 1;
  optional WithdrawCollateralForBorrowsArgs args = 2;
}
    
message LiquidateBorrowPositionAccounts {
  PublicKey signer = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey borrow_position = 6;
  PublicKey collateral_token_account = 7;
  PublicKey lp_token_mint = 8;
  PublicKey token_program = 9;
  PublicKey event_authority = 10;
  PublicKey program = 11;
}
    
message LiquidateBorrowPositionArgs {
}
    
message LiquidateBorrowPosition {
  optional LiquidateBorrowPositionAccounts accounts = 1;
  optional LiquidateBorrowPositionArgs args = 2;
}
    
message PartialLiquidateBorrowPositionAccounts {
  PublicKey signer = 1;
  PublicKey perpetuals = 2;
  PublicKey pool = 3;
  PublicKey custody = 4;
  PublicKey transfer_authority = 5;
  PublicKey borrow_position = 6;
  PublicKey collateral_token_account = 7;
  PublicKey lp_token_mint = 8;
  PublicKey token_program = 9;
  PublicKey event_authority = 10;
  PublicKey program = 11;
}
    
message PartialLiquidateBorrowPositionArgs {
}
    
message PartialLiquidateBorrowPosition {
  optional PartialLiquidateBorrowPositionAccounts accounts = 1;
  optional PartialLiquidateBorrowPositionArgs args = 2;
}
    
message CloseBorrowPositionAccounts {
  PublicKey owner = 1;
  PublicKey borrow_position = 2;
  PublicKey system_program = 3;
  PublicKey event_authority = 4;
  PublicKey program = 5;
}
    
message CloseBorrowPositionArgs {
}
    
message CloseBorrowPosition {
  optional CloseBorrowPositionAccounts accounts = 1;
  optional CloseBorrowPositionArgs args = 2;
}
    
message PerpetualsAccount {
  oneof account {
    BorrowPosition borrow_position = 1;
    Custody custody = 2;
    Perpetuals perpetuals = 3;
    Pool pool = 4;
    PositionRequest position_request = 5;
    Position position = 6;
    StakeInfo stake_info = 7;
    TokenLedger token_ledger = 8;
  }
}
message PriceImpactMechanism {
  oneof kind {
    PriceImpactMechanismTradeSize trade_size = 1;
    PriceImpactMechanismDeltaImbalance delta_imbalance = 2;
  }
}
message OracleType {
  oneof kind {
    OracleTypeNone none = 1;
    OracleTypeTest test = 2;
    OracleTypePyth pyth = 3;
  }
}
message PriceCalcMode {
  oneof kind {
    PriceCalcModeMin min = 1;
    PriceCalcModeMax max = 2;
    PriceCalcModeIgnore ignore = 3;
  }
}
message PriceStaleTolerance {
  oneof kind {
    PriceStaleToleranceStrict strict = 1;
    PriceStaleToleranceLoose loose = 2;
  }
}
message TradePoolType {
  oneof kind {
    TradePoolTypeIncrease increase = 1;
    TradePoolTypeDecrease decrease = 2;
  }
}
message RequestType {
  oneof kind {
    RequestTypeMarket market = 1;
    RequestTypeTrigger trigger = 2;
  }
}
message RequestChange {
  oneof kind {
    RequestChangeNone none = 1;
    RequestChangeIncrease increase = 2;
    RequestChangeDecrease decrease = 3;
  }
}
message Side {
  oneof kind {
    SideNone none = 1;
    SideLong long = 2;
    SideShort short = 3;
  }
}
message Instructions {
  oneof instruction {
    Init init = 1;
    AddPool add_pool = 2;
    AddCustody add_custody = 3;
    SetCustodyConfig set_custody_config = 4;
    SetPoolConfig set_pool_config = 5;
    SetPerpetualsConfig set_perpetuals_config = 6;
    TransferAdmin transfer_admin = 7;
    WithdrawFees2 withdraw_fees2 = 8;
    CreateTokenMetadata create_token_metadata = 9;
    CreateTokenLedger create_token_ledger = 10;
    ReallocCustody realloc_custody = 11;
    ReallocPool realloc_pool = 12;
    CreateAndDelegateStakeAccount create_and_delegate_stake_account = 13;
    Unstake unstake = 14;
    WithdrawStake withdraw_stake = 15;
    RedeemStake redeem_stake = 16;
    OperatorSetCustodyConfig operator_set_custody_config = 17;
    OperatorSetPoolConfig operator_set_pool_config = 18;
    TestInit test_init = 19;
    SetTestTime set_test_time = 20;
    SetTokenLedger set_token_ledger = 21;
    Swap2 swap2 = 22;
    SwapWithTokenLedger swap_with_token_ledger = 23;
    InstantIncreasePositionPreSwap instant_increase_position_pre_swap = 24;
    AddLiquidity2 add_liquidity2 = 25;
    RemoveLiquidity2 remove_liquidity2 = 26;
    CreateIncreasePositionMarketRequest create_increase_position_market_request = 27;
    CreateDecreasePositionRequest2 create_decrease_position_request2 = 28;
    CreateDecreasePositionMarketRequest create_decrease_position_market_request = 29;
    UpdateDecreasePositionRequest2 update_decrease_position_request2 = 30;
    ClosePositionRequest2 close_position_request2 = 31;
    ClosePositionRequest3 close_position_request3 = 32;
    IncreasePosition4 increase_position4 = 33;
    IncreasePositionPreSwap increase_position_pre_swap = 34;
    IncreasePositionWithInternalSwap increase_position_with_internal_swap = 35;
    DecreasePosition4 decrease_position4 = 36;
    DecreasePositionWithInternalSwap decrease_position_with_internal_swap = 37;
    DecreasePositionWithTpsl decrease_position_with_tpsl = 38;
    DecreasePositionWithTpslAndInternalSwap decrease_position_with_tpsl_and_internal_swap = 39;
    LiquidateFullPosition4 liquidate_full_position4 = 40;
    RefreshAssetsUnderManagement refresh_assets_under_management = 41;
    SetMaxGlobalSizes set_max_global_sizes = 42;
    InstantCreateTpsl instant_create_tpsl = 43;
    InstantCreateLimitOrder instant_create_limit_order = 44;
    InstantIncreasePosition instant_increase_position = 45;
    InstantDecreasePosition instant_decrease_position = 46;
    InstantDecreasePosition2 instant_decrease_position2 = 47;
    InstantUpdateLimitOrder instant_update_limit_order = 48;
    InstantUpdateTpsl instant_update_tpsl = 49;
    GetAddLiquidityAmountAndFee2 get_add_liquidity_amount_and_fee2 = 50;
    GetRemoveLiquidityAmountAndFee2 get_remove_liquidity_amount_and_fee2 = 51;
    GetAssetsUnderManagement2 get_assets_under_management2 = 52;
    BorrowFromCustody borrow_from_custody = 53;
    RepayToCustody repay_to_custody = 54;
    DepositCollateralForBorrows deposit_collateral_for_borrows = 55;
    WithdrawCollateralForBorrows withdraw_collateral_for_borrows = 56;
    LiquidateBorrowPosition liquidate_borrow_position = 57;
    PartialLiquidateBorrowPosition partial_liquidate_borrow_position = 58;
    CloseBorrowPosition close_borrow_position = 59;
  }
}
